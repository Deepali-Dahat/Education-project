<div class="page-titles">
    <ol class="breadcrumb">
        <li>
            <h5 class="bc-title">Test</h5>
        </li>
        <li class="breadcrumb-item">
            <a href="javascript:void(0)">
                <!-- <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M10.5346 2.55658H7.1072C4.28845 2.55658 2.52112 4.55216 2.52112 7.37733V14.9985C2.52112 17.8237 4.2802 19.8192 7.1072 19.8192H15.1959C18.0238 19.8192 19.7829 17.8237 19.7829 14.9985V11.3062" stroke="#888888" stroke-linecap="round" stroke-linejoin="round"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.09214 10.0108L14.9424 3.16057C15.7958 2.30807 17.1791 2.30807 18.0325 3.16057L19.1481 4.27615C20.0015 5.12957 20.0015 6.51374 19.1481 7.36624L12.2648 14.2495C11.8917 14.6226 11.3857 14.8325 10.8577 14.8325H7.42389L7.51006 11.3675C7.52289 10.8578 7.73097 10.372 8.09214 10.0108Z" stroke="#888888" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M13.9014 4.21895L18.0869 8.40445" stroke="#888888" stroke-linecap="round" stroke-linejoin="round"/>
                </svg> -->
                </a>
        </li>
        <!-- <li class="breadcrumb-item active"><a href="javascript:void(0)">Projects</a></li> -->
    </ol>
    <a class="text-warning fs-13" data-bs-toggle="offcanvas" href="javascript:void(0)" 
        role="button" aria-controls="offcanvasExample1" 
        data-bs-toggle="modal" data-bs-target=".bd-example-modal-lg"
        >+ Add Test</a>
</div>
<div style="margin: 20px;">
    <div class="row">
        <div class="card dz-card" id="list-tab">
            <div class="card-header flex-wrap d-flex justify-content-between le">
                <h4 class="card-title">List of Tests</h4>
                <hr /> 
                <div class="container-fluid mh-auto">
                    <div class="row">
                        <div *ngFor="let cup of listTest" class="col-xl-3  col-lg-6 col-sm-6">
                            <div class="card">
                                <div class="card-body d-flex align-items-center justify-content-between flex-wrap">
                                    <div class="badge-container">
                                        <a href="javascript:void(0)" 
                                        class="badge badge-circle" style="color:orange" (click)="getDeleteTest(cup.id)" >X</a>
                                    </div>
                                    <div class="d-flex align-items-center c-busiess">
                                        <img src="./assets/images/economics.png" class="avatar">
                                        <div>
                                            <h5 class="mb-0">{{cup.title}}
                                            <span class="badge badge-warning badge-xs ms-1" 
                                             
                                            style="cursor: pointer;" (click)="getViewToedit(cup.id)" 
                                            [routerLink]="'/dashboard/editTest'">Edit</span></h5>
                                            <span style="cursor: pointer;">{{cup.subject_name | titlecase}}</span>
                                            <div><i class="far fa-calendar-plus me-2"></i>{{cup.exam_date}}</div>
                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- <div>
                <p>.....</p>
            </div> -->
        </div>
    </div>
</div>


<!--frst modal to add test-->
<div class="modal fade" id="basicModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add Test</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                </button>
            </div>
            <div class="modal-body">
                <form>
                    
                    <div class="mb-2 row">
                        <label class="col-sm-3 col-form-label">Title</label>
                        <div class="col-sm-9">
                            <input type="text" class="form-control" formControlName="title"  
                            placeholder="Please Enter a Title">
                        </div>
                    </div>
                    <div class="mb-2 row">
                        <label class="col-sm-3 col-form-label">Exam Date</label>
                        <div class="col-sm-9">
                            <input name="datepicker" class="datepicker-default form-control" id="datepicker"
                            formControlName="submission_date">
                        </div>
                    </div>
                    <div class="mb-2 row">
                        <label class="col-sm-3 col-form-label">Time</label>
                        <div class="col-sm-9">
                            <div class="input-group clockpicker">
                                <input type="time" class="form-control" value="09:30">
                                <span class="input-group-text"><i
                                    class="fas fa-clock"></i></span>
                            </div>
                        </div>
                    </div>
                      
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger light" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-warning" data-bs-dismiss="modal">Add Test</button>
                    </div>
                </form>

            </div>
           
        </div>
    </div>
</div>
<!--end-->
<!--large modal strt-->
<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add Test</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                </button>
            </div>
            <div class="modal-body">
               <form [formGroup]="TestData" (ngSubmit)="getAddedTest(TestData.value)">
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-2 row">
                            <label class="col-sm-3 col-form-label">Title</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control" formControlName="title"  
                                placeholder="Please Enter a Title">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-2 row">
                            <label class="col-sm-3 col-form-label">Exam Date</label>
                            <div class="col-sm-9">
                                <div class="input-group clockpicker">
                                    <input type="date" class="form-control" value="09:30" formControlName="exam_date">
                                    <span class="input-group-text" >
                                        
                                    </span>
                                </div>
                                <!-- <input name="datepicker" class="datepicker-default form-control" id="datepicker"
                                formControlName="exam_date"> -->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-3 row">
                            <label class="col-sm-3 col-form-label">Select Standard</label>
                            <div class="col-sm-9">
                                <select #dropdown class="me-sm-2 default-select form-control wide" 
                                id="inlineFormCustomSelect"  formControlName="standard_id"                       
                                (change)="getStandardDropdown(dropdown.value)">
                                   
                                    <option selected *ngFor="let optn of standardName" [value]="optn.id">
                                       {{optn.standard}}</option>
                                   
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-3 row">
                            <label class="col-sm-3 col-form-label">Select Chapter</label>
                            <div class="col-sm-9">
                               <select #dropdown class="me-sm-2 default-select form-control wide" 
                               id="inlineFormCustomSelect" formControlName="chapter_id" (change)="getChaterListDropdown(dropdown.value)">
                                 <option selected *ngFor="let option4 of listChapter" [value]="option4.id">
                                    {{option4.chapter_name}}

                                 </option>
                               </select> 
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="mb-2 row">
                            <label class="col-sm-3 col-form-label">Duration</label>
                            <div class="col-sm-9">
                                <div class="input-group clockpicker">
                                    <input type="time" class="form-control" value="09:30" formControlName="duration">
                                    <span class="input-group-text"><i
                                        class="fas fa-clock"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="mb-2 row">
                            <label class="col-sm-3 col-form-label">Duration End</label>
                            <div class="col-sm-9">
                                <div class="input-group clockpicker">
                                    <input type="time" class="form-control" value="09:30" formControlName="end_duration">
                                    <span class="input-group-text"><i
                                        class="fas fa-clock"></i></span>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div formArrayName="question">
                        <div  *ngFor="let questionControl of questionsFormArray.controls; let i = index" class="mb-3 row">
                            <label class="col-sm-3 col-form-label">Create Test Question {{ i + 1 }}</label>
                            <div class="col-sm-9">
                                <input type="text" class="form-control"   [formControlName]="i"    
                                placeholder="Please enter your new question" style="margin-bottom: 10px;">
                                
                            </div>
                        </div>
                        <a class="text-warning fs-13" data-bs-toggle="offcanvas" href="javascript:void(0)" 
                            role="button" aria-controls="offcanvasExample1" style="margin-left: 480px;" (click)="AddedQuestion()"
                          >+ Add Question</a>
                    </div> 
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger light" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-warning" data-bs-dismiss="modal">Add Test</button>
                </div>
               </form>
            </div>
            
        </div>
    </div>
</div>
<!--ends-->
<!--secnd modal strt for edit-->
<div class="modal fade bd-example-modal-lg1" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Update Test</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="getUpdateTest" (ngSubmit)="getUpdatedTest(getUpdateTest.value)">
                     <div class="row">
                        <div class="col-md-6">
                            <div class="mb-2 row">
                                <label class="col-sm-3 col-form-label">Title</label>
                                <div class="col-sm-9">
                                    <input type="text" class="form-control" formControlName="title"  
                                    placeholder="Please Enter a Title">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-2 row">
                                <label class="col-sm-3 col-form-label">Exam Date</label>
                                <div class="col-sm-9">
                                    <input name="datepicker" class="datepicker-default form-control" id="datepicker"
                                    formControlName="exam_date">
                                </div>
                            </div>
                        </div>
                     </div>
                     <div class="row">
                        <!-- <div class="container-fluid">
                            <div formArrayName="test_questions">
                               
                                    <div class="row" *ngFor="let us of NewDataToAddTest.test_questions;let i = index; let even = even">
                                        <div >
                                            <div class="col-xl-12">
                                                <div class="mb-3 row">
                                                    <label class="col-lg-4 col-form-label" for="validationCustom06">
                                                        Test Question {{i+1}} :

                                                    </label>
                                                    <div class="col-lg-6">
                                                        <input type="text" class="form-control"
                                                            [formControlName]="i" [value]="us.question"
                                                            placeholder="Please Enter a Title">
                                                    </div>


                                                </div>
                                            </div>
                                            
                                        </div>
                                    </div>
                               
                            </div>
                        </div>  -->
                     </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger light" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-warning" data-bs-dismiss="modal">Update Test</button>
                    </div>
                </form>
            </div>
            
        </div>
    </div>
</div>